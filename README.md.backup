# GST Invoices ğŸ“‹

> **Professional GST invoice management made simple** â€” Streamline your business invoicing with modern technology

**ğŸš€ Modern GST Invoice Management Platform**

---

## ğŸ“¸ Screenshots

### Dashboard Overview
*[Screenshot placeholder: Dashboard with revenue stats, recent invoices, and quick actions]*

![Dashboard](./docs/images/dashboard.png)

### Invoice Creation
*[Screenshot placeholder: Invoice form with line items, GST calculations, and customer details]*

![Invoice Creation](./docs/images/invoice-creation.png)

### PDF Templates
*[GIF placeholder: Animated showcase of different invoice templates (Classic, Modern, Minimal)]*

![PDF Templates](./docs/images/pdf-templates.gif)

### Email Integration
*[Screenshot placeholder: Email dialog with template selection and custom message]*

![Email Integration](./docs/images/email-integration.png)

---

## âœ¨ What This Does

**One-liner**: A complete GST-compliant invoice management system that handles everything from customer management to payment tracking, with beautiful PDF generation and email automation.

**Perfect for**: Small businesses, freelancers, and enterprises who need professional GST invoicing without the complexity.

---

## ğŸ¯ Key Features

### ğŸ“Š **Business Management**
- Multi-business support with complete isolation
- GST registration details and compliance
- Professional invoice templates (Classic, Modern, Minimal)
- Automated invoice numbering and tracking

### ğŸ§¾ **GST Compliance**
- HSN/SAC code management
- Automatic CGST/SGST/IGST calculations
- Cess support for applicable items
- GSTR-1 export functionality

### ğŸ’° **Payment Processing**
- Razorpay integration for online payments
- Multiple payment methods (UPI, Cards, Net Banking)
- Payment tracking and reconciliation
- Subscription management

### ğŸ“§ **Email Automation**
- Send invoices directly via email
- Multiple email templates
- Delivery tracking and retry functionality
- Custom message support

### ğŸ” **Security & Privacy**
- Row Level Security (RLS) on all data
- Complete user isolation
- Guest mode for quick invoice creation
- Secure authentication with Supabase

### ğŸ“± **Modern Experience**
- Responsive design for all devices
- Dark/Light theme support
- Real-time data synchronization
- Keyboard shortcuts for power users

---

## ğŸ› ï¸ Tech Stack

| Category | Technology |
|----------|------------|
| **Framework** | Next.js 15 with App Router |
| **Language** | TypeScript |
| **Styling** | Tailwind CSS + shadcn/ui |
| **Database** | Supabase (PostgreSQL) |
| **Authentication** | Supabase Auth |
| **Payments** | Razorpay |
| **Email** | Resend |
| **PDF Generation** | @react-pdf/renderer |
| **Animations** | Framer Motion |

---

## ğŸš€ Quick Start

### Prerequisites

- **Node.js** 18+ 
- **npm** or **yarn**
- **Supabase** account
- **Razorpay** account (optional, for payments)
- **Resend** account (optional, for emails)

### 1. **Setup**

```bash
# Clone the repository
git clone https://github.com/ajay-nishad/GST-Invoices.git
cd GST-Invoices

# Install dependencies
npm install
```

### 2. **Environment Configuration**

```bash
# Copy environment template
cp .env.example .env.local
```

Add your credentials to `.env.local`:

```env
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Payment Integration (Optional)
RAZORPAY_KEY_ID=your_razorpay_key_id
RAZORPAY_KEY_SECRET=your_razorpay_key_secret

# Email Integration (Optional)
RESEND_API_KEY=your_resend_api_key
```

### 3. **Database Migration**

```bash
# Apply all migrations in sequence
npm run db:migrate

# Or apply manually:
psql -h your-db-host -U postgres -d your-db-name -f supabase/migrations/001_initial_schema.sql
psql -h your-db-host -U postgres -d your-db-name -f supabase/migrations/002_rls_policies.sql
psql -h your-db-host -U postgres -d your-db-name -f supabase/migrations/003_views_and_functions.sql
psql -h your-db-host -U postgres -d your-db-name -f supabase/migrations/005_invoice_tables.sql
psql -h your-db-host -U postgres -d your-db-name -f supabase/migrations/006_invoice_rls_policies.sql
psql -h your-db-host -U postgres -d your-db-name -f supabase/migrations/007_email_logs.sql
psql -h your-db-host -U postgres -d your-db-name -f supabase/migrations/008_recurrences.sql
psql -h your-db-host -U postgres -d your-db-name -f supabase/migrations/009_user_preferences.sql

# Apply RLS policies
psql -h your-db-host -U postgres -d your-db-name -f supabase/policies/000_apply_all_policies.sql
```

### 4. **Seed Demo Data**

```bash
# Create demo data for testing
npm run db:seed

# This creates:
# - Demo user: demo@gstinvoices.com
# - Sample business with GST details
# - 4 customers (individuals and businesses)
# - 5 products/services with HSN codes
# - 4 sample invoices with different statuses
# - Payment records and subscription
```

### 5. **Run Development Server**

```bash
# Start the development server
npm run dev

# Open your browser
open http://localhost:3000
```

### 6. **Deploy to Production**

#### **Vercel (Recommended)**
```bash
# Install Vercel CLI
npm i -g vercel

# Deploy
vercel --prod

# Add environment variables in Vercel dashboard
```

#### **Docker**
```bash
# Build Docker image
docker build -t gst-invoices .

# Run container
docker run -p 3000:3000 --env-file .env.local gst-invoices
```

#### **Manual Deployment**
```bash
# Build for production
npm run build

# Start production server
npm start
```

---

## ğŸ“š Available Scripts

### Development
```bash
npm run dev          # Start development server
npm run build        # Build for production
npm run start        # Start production server
npm run type-check   # Run TypeScript checking
```

### Code Quality
```bash
npm run lint         # Run ESLint
npm run lint:fix     # Fix ESLint issues
npm run format       # Format code with Prettier
npm run format:check # Check code formatting
```

### Database Management
```bash
npm run db:seed      # Seed with demo data
npm run db:clear     # Clear demo data
npm run db:reset     # Clear and re-seed
npm run db:migrate   # Apply all migrations
```

### Testing
```bash
npm run test         # Run unit tests
npm run test:e2e     # Run end-to-end tests
npm run test:all     # Run all tests
```

---

## ğŸ—ï¸ Project Structure

```
GST-Invoices/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ ï¿½ï¿½ (app)/             # Authenticated app pages
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ dashboard/      # Dashboard with stats
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ invoices/       # Invoice management
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ customers/      # Customer management
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ items/          # Product/service catalog
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ businesses/     # Business profiles
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ analytics/      # Reports and analytics
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ email-logs/     # Email tracking
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ settings/       # User preferences
â”‚   â”‚   â”œâ”€â”€ ğŸ“ api/                # API routes
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ invoices/       # Invoice operations
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ export/         # PDF/Excel export
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ razorpay/       # Payment processing
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ subscription/   # Subscription management
â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/               # Authentication pages
â”‚   â”‚   â””â”€â”€ ğŸ“ guest/              # Guest invoice creation
â”‚   â”œâ”€â”€ ğŸ“ components/             # React components
â”‚   â”‚   â”œâ”€â”€ ğŸ“ ui/                 # shadcn/ui components
â”‚   â”‚   â”œâ”€â”€ ğŸ“ invoices/           # Invoice-specific components
â”‚   â”‚   â”œâ”€â”€ ğŸ“ customers/          # Customer management
â”‚   â”‚   â”œâ”€â”€ ğŸ“ dashboard/          # Dashboard components
â”‚   â”‚   â”œâ”€â”€ ğŸ“ layout/             # Layout components
â”‚   â”‚   â””â”€â”€ ğŸ“ common/             # Shared components
â”‚   â”œâ”€â”€ ğŸ“ lib/                    # Utility functions
â”‚   â”‚   â”œâ”€â”€ ğŸ“ actions/            # Server actions
â”‚   â”‚   â”œâ”€â”€ ğŸ“ supabase/           # Database clients
â”‚   â”‚   â”œâ”€â”€ ğŸ“ schemas/            # Zod validation schemas
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.ts             # Authentication utilities
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ razorpay.ts         # Payment integration
â”‚   â”‚   â””â”€â”€ ğŸ“„ utils.ts            # Helper functions
â”‚   â”œâ”€â”€ ğŸ“ hooks/                  # Custom React hooks
â”‚   â”œâ”€â”€ ğŸ“ pdf/                    # PDF templates
â”‚   â””â”€â”€ ğŸ“ types/                  # TypeScript definitions
â”œâ”€â”€ ğŸ“ supabase/
â”‚   â”œâ”€â”€ ğŸ“ migrations/             # Database schema
â”‚   â””â”€â”€ ğŸ“ policies/               # Row Level Security
â”œâ”€â”€ ğŸ“ e2e/                        # End-to-end tests
â”œâ”€â”€ ğŸ“„ package.json
â””â”€â”€ ğŸ“„ README.md
```

---

## ğŸ—„ï¸ Database Schema

### Core Tables
- **users** â€” User profiles and authentication
- **subscriptions** â€” Plan management and billing
- **businesses** â€” Business information with GST details
- **customers** â€” Customer data with billing/shipping addresses
- **items** â€” Product/service catalog with HSN/SAC codes
- **invoices** â€” Invoice records with calculated totals
- **invoice_items** â€” Line items with detailed tax calculations
- **payments** â€” Payment tracking with multiple methods
- **email_logs** â€” Email delivery tracking and status

### Security Features
- âœ… **Row Level Security (RLS)** on all tables
- âœ… **Complete data isolation** between users
- âœ… **Guest user protection** (no database access)
- âœ… **Automatic security** for views and functions

---

## ğŸ” Authentication Flow

1. **Sign Up/Sign In** via Supabase Auth
2. **Email verification** for new accounts
3. **Session management** with automatic refresh
4. **Protected routes** with server-side validation
5. **User profile** creation and management

---

## ğŸ’³ Payment Integration

### Razorpay Features
- Multiple payment methods (UPI, Cards, Net Banking, Wallets)
- Automatic payment status updates
- Invoice-linked payment tracking
- Subscription billing for premium features
- Webhook handling for real-time updates

---

## ğŸ“§ Email System

### Resend Integration
- Professional invoice delivery
- Multiple email templates
- Delivery status tracking
- Automatic retry for failed emails
- Custom message support

---

## ğŸ¨ Customization

### Themes
- Built-in dark/light mode
- Custom color schemes
- Responsive design tokens

### Invoice Templates
- **Classic** â€” Traditional business layout
- **Modern** â€” Contemporary design with colors
- **Minimal** â€” Clean and simple format

### Branding
- Custom business logos
- Personalized color schemes
- Custom email templates

---

## ğŸ§ª Testing

### Unit Tests
```bash
npm run test         # Run all unit tests
npm run test:watch   # Watch mode for development
npm run test:coverage # Generate coverage report
```

### End-to-End Tests
```bash
npm run test:e2e     # Run Playwright tests
npm run test:e2e:ui  # Run with UI mode
```

### Test Coverage
- âœ… Authentication flows
- âœ… Invoice creation and management
- âœ… Payment processing
- âœ… Email functionality
- âœ… PDF generation
- âœ… Database operations

---

## ğŸ“ˆ Performance

### Optimizations
- **Server-side rendering** for fast initial loads
- **Static generation** for public pages
- **Image optimization** with Next.js
- **Database indexing** for quick queries
- **Caching strategies** for frequently accessed data

### Monitoring
- Built-in error boundaries
- Performance metrics tracking
- Database query optimization
- Real-time error reporting

---

## ğŸ”§ Environment Variables

| Variable | Description | Required |
|----------|-------------|----------|
| `NEXT_PUBLIC_SUPABASE_URL` | Supabase project URL | âœ… |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | Supabase anonymous key | âœ… |
| `SUPABASE_SERVICE_ROLE_KEY` | Supabase service role key | âœ… |
| `RAZORPAY_KEY_ID` | Razorpay key ID | âš ï¸ Optional |
| `RAZORPAY_KEY_SECRET` | Razorpay key secret | âš ï¸ Optional |
| `RESEND_API_KEY` | Resend API key for emails | âš ï¸ Optional |

---

## ğŸ¤ Contributing

We welcome contributions! Please follow these steps:

1. **Fork** the repository
2. **Create** a feature branch (`git checkout -b feature/amazing-feature`)
3. **Commit** your changes (`git commit -m 'Add amazing feature'`)
4. **Push** to the branch (`git push origin feature/amazing-feature`)
5. **Open** a Pull Request

### Development Guidelines
- Follow TypeScript best practices
- Write tests for new features
- Update documentation as needed
- Follow the existing code style

---

## ğŸ“ Support

- ğŸ“§ **Email**: support@gstinvoices.com
- ğŸ› **Issues**: [GitHub Issues](https://github.com/ajay-nishad/GST-Invoices/issues)
- ğŸ“– **Documentation**: [Wiki](https://github.com/ajay-nishad/GST-Invoices/wiki)
- ğŸ’¬ **Discussions**: [GitHub Discussions](https://github.com/ajay-nishad/GST-Invoices/discussions)

---

## ğŸ“„ License

This project is licensed under the **ISC License** - see the [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- **Next.js** team for the amazing framework
- **Supabase** for backend-as-a-service
- **Tailwind CSS** for utility-first styling
- **shadcn/ui** for beautiful components
- **Razorpay** for payment processing
- **Resend** for email delivery

---

<div align="center">

**Made with â¤ï¸ for the business community**

[â­ Star this repo](https://github.com/ajay-nishad/GST-Invoices) â€¢ [ğŸ› Report Bug](https://github.com/ajay-nishad/GST-Invoices/issues) â€¢ [ğŸ’¡ Request Feature](https://github.com/ajay-nishad/GST-Invoices/issues)

</div>
